:host {
  --page-bg: #0f1115;
  --card-bg: #171a20;
  --text: #ffffff;
  --muted: rgba(255, 255, 255, .65);
  --accent: #ffc400;
  --fs: 20px;
}

/* Header */
ion-header,
ion-toolbar {
  --background: var(--page-bg);
  --color: var(--text);
  --border-width: 0;
  --border-color: transparent;
  box-shadow: none;
}
ion-title { font-size: var(--fs); font-weight: 700; }

/* Content */
ion-content { --background: var(--page-bg); }
ion-content::part(background),
ion-content::part(scroll) { background: var(--page-bg) !important; }
ion-content::part(fixed) { background: transparent !important; }

/* Liste (2px Abstand zwischen Karten) */
ion-list,
ion-list::part(container) {
  background: transparent !important;
  padding: 0 16px;
  margin: 12px 0 24px;
  display: flex;
  flex-direction: column;
  gap: 2px; /* <— kleiner Kartenabstand */
  font-size: var(--fs);
  color: var(--text);
}

/* Außenkacheln: Standard eckig (0px) */
ion-item.card {
  --background: var(--card-bg);
  --color: var(--text);
  --padding-start: 14px;
  --inner-padding-end: 14px;
  --min-height: 84px;
  border-radius: 0;
}
ion-item.card::part(native) {
  background: var(--card-bg);
  border-radius: 0;
}

/* NUR die erste Karte: obere Ecken abrunden (4px) */
ion-list > ion-item.card:first-child::part(native) {
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
}

/* NUR die letzte Karte: untere Ecken abrunden (4px) */
ion-list > ion-item.card:last-child::part(native) {
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
}

/* Sonderfall: wenn es nur eine einzige Karte gibt → alle 4 Ecken 4px */
ion-list > ion-item.card:first-child:last-child::part(native) {
  border-radius: 4px;
}

/* Zeilen-Layout in Karten */
.row {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
}

/* Labels */
.field .label,
.head .label {
  font-size: var(--fs);
  font-weight: 800;
  color: var(--text);
}

/* Name-Input */
ion-input.inline-input {
  flex: 1 1 auto;
  --padding-top: 0;
  --padding-bottom: 0;
  --color: var(--text);
  min-height: 48px;
}
ion-input.inline-input::part(native) {
  font-size: var(--fs);
  font-weight: 800;
  text-align: left;
}
ion-input.inline-input::part(native)::placeholder {
  color: var(--muted);
  font-size: var(--fs);
  font-weight: 800;
}

/* Period Tabs (ohne Unterstrich – aktive Tab gelb) */
.period-tabs {
  display: inline-flex;
  gap: 18px;
  align-items: baseline;
  position: relative;
}
.period-tabs .tab {
  position: relative;
  background: transparent;
  border: 0;
  color: rgba(255,255,255,.55);
  font-size: var(--fs);
  font-weight: 900;
  padding: 8px 2px;
  line-height: 1;
}
.period-tabs .tab.active { color: var(--accent); }

/* Repetitions */
.head .spacer { flex: 1 1 auto; }

/* Stepper: Counter zwischen – und + */
.stepper-row {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  justify-content: flex-end;
}
.stepper-btn {
  --padding-start: 10px;
  --padding-end: 10px;
  height: 44px;
  min-width: 44px;
  font-size: var(--fs);
  font-weight: 900;
  color: var(--text);
  --background: transparent;
  --background-hover: transparent;
  --background-activated: transparent;
  --background-focused: transparent;
  --box-shadow: none;
  --opacity: 1;
}
.value-inline {
  min-width: 48px;
  text-align: center;
  font-size: var(--fs);
  font-weight: 900;
  color: var(--accent);
}
:host-context(.md) .stepper-btn ion-ripple-effect { display: none !important; }

/* ===== Notifications-Kachel ===== */

/* Standard: keine Zusatz-Padding — Kachel bleibt wie die anderen */
ion-item.card.notif-card::part(native) { padding-bottom: 0; }

/* Nur wenn Zeilen existieren (per .has-rows vom Template) unten Luft geben */
ion-item.card.notif-card.has-rows::part(native) { padding-bottom: 16px; }

.notif-wrap {
  display: flex;
  flex-direction: column;
  gap: 10px; /* Abstand zwischen Header und erster Zeile */
  width: 100%;
  padding-top: 4px;
  padding-bottom: 0;
}

/* Kopfzeile (+ Add notification) – volle Breite */
.notif-header {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 10px 0;
  background: transparent;
  border: 0;
  color: var(--text);
  font-weight: 800;
  font-size: var(--fs);
  text-align: left;
}
.notif-header .plus {
  color: var(--accent);
  font-weight: 900;
  font-size: calc(var(--fs) + 2px);
  line-height: 1;
}

/* Jede Notification-Zeile – eckig, volle Breite */
.notif-row {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  min-height: 40px;
  padding: 8px 12px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 0;
}
.notif-row + .notif-row { margin-top: 8px; }

.notif-row .time,
.notif-row .days { font-size: calc(var(--fs) - 4px); }

.notif-row .time { font-weight: 900; white-space: nowrap; }
.notif-row .days {
  color: var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.notif-row .spacer { flex: 1 1 auto; }
.notif-row .remove { --background: transparent; --color: #ff6b6b; }

/* Footer / Save */
.actions {
  padding: 0 16px 24px;
  display: flex;
  justify-content: flex-end;
}
.actions .save {
  --background: var(--accent);
  --color: #1b1b1b;
  --border-radius: 14px;
  height: 48px;
  padding: 0 18px;
  font-weight: 800;
  letter-spacing: .2px;
  font-size: var(--fs);
}

/* ===================== Modal theme (DARK, fully opaque) ===================== */

ion-modal.modal-content {
  --backdrop-opacity: 1;                 /* voll opak */
  --backdrop-color: #0f1115;             /* identisch zum App-Hintergrund */
  --backdrop-background: #0f1115;        /* Fallback */
}
ion-modal.modal-content::part(backdrop) {
  background: #0f1115 !important;
  opacity: 1 !important;
}
ion-modal.modal-content::part(content) {
  background: #0f1115 !important;        /* kein Weiß mehr */
}

/* Eigene Canvas-Schicht (Fallback, falls ::part nicht greift) */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: #0f1115;                   /* identisch mit App-BG */
  display: grid;
  place-items: center;
  padding: 16px;
}

/* Panel */
.modal-panel {
  width: min(560px, 92vw);
  background: #171a20;
  color: #fff;
  border-radius: 16px;
  box-shadow: 0 10px 40px rgba(0,0,0,.55);
  padding: 16px;
}
.modal-title { font-weight: 800; font-size: 22px; margin-bottom: 12px; }

/* Time-Picker-Karte */
.time-card {
  background: #0b0d12;
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 12px;
  overflow: hidden;
  padding: 8px 0;
}

/* IonDatetime – weiße Zahlen, gelber aktiver Wert, dunkler Hintergrund */
.time-picker {
  --background: #0b0d12;
  --color: #ffffff;
  --ion-color-warning: #ffc400; /* nutzt color="warning" */
  --wheel-highlight-background: rgba(255,255,255,.10);
  --wheel-highlight-border-radius: 12px;
  --wheel-fade-background-rgb: 15,17,21;

  inline-size: 100%; /* volle Breite */
}
/* Wheel bündig & zentriert (kein rechter Rand) */
.time-picker::part(wheels),
.time-picker::part(wheel),
.time-picker::part(column),
.time-picker::part(container),
.time-picker::part(wheel-rows) {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

.time-picker::part(wheel-item) { color: rgba(255,255,255,.85); }
.time-picker::part(wheel-item-active) { color: #ffc400; font-weight: 800; }
/* Fallbacks für verschiedene Ionic-Versionen */
.time-picker .picker-item.picker-item-active,
.time-picker .wheel-item.selected,
.time-picker .wheel-item.picker-item-active,
.time-picker .picker-opt.picker-opts-selected {
  color: #ffc400 !important;
  font-weight: 800;
}

/* Wochentage */
.weekday-row {
  display: flex;
  gap: 8px;
  margin: 14px 0 8px;
  flex-wrap: wrap;
}
.day-pill {
  background: #20232a;
  border: 1px solid #2f333b;
  color: #ffffff;
  border-radius: 999px;
  padding: 8px 12px;
  min-width: 44px;
  text-align: center;
  font-weight: 800;
}
.day-pill.active { border-color: #ffc400; color: #ffc400; }

/* Modal-Actions – gelber SAVE wie auf der Seite */
.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 8px;
}
.modal-actions .cancel {
  --color: #ffffff !important;
  color: #ffffff !important;
  font-weight: 800;
}
.modal-actions .confirm {
  --background: #ffc400;
  --color: #1b1b1b;
  --border-radius: 14px;
  height: 44px;
  padding: 0 18px;
  font-weight: 800;
  letter-spacing: .2px;
  font-size: 18px;
}
